<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.ToolBar?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="600" prefWidth="900" stylesheets="@style.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="gestorgastos.controller.DetalleCuentaController">

    <top>
        <ToolBar prefHeight="40.0">
            <items>
                <Button style="-fx-font-weight: bold; -fx-base: #ddd;" text="Gastos" />
                <Button onAction="#irACategorias" text="Categorías" />
                <Button onAction="#irAVisualizacion" text="Visualización (Gráficos)" />
                <Button onAction="#irAAlertas" text="Alertas" />
            <Button onAction="#irACMD" text="CMD" />
                <Pane HBox.hgrow="ALWAYS" /> <Button onAction="#volverInicio" style="-fx-text-fill: white; -fx-background-color: red;" text="Volver al Inicio" />
            </items>
        </ToolBar>
    </top>

    <center>
        <VBox spacing="10">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
            <Label fx:id="lblTituloCuenta" style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Gastos de la Cuenta" />
            
            <TableView fx:id="tablaGastos" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colFecha" prefWidth="100" text="Fecha" />
                    <TableColumn fx:id="colConcepto" prefWidth="200" text="Concepto" />
                    <TableColumn fx:id="colCategoria" prefWidth="120" text="Categoría" />
                    <TableColumn fx:id="colImporte" prefWidth="100" text="Importe (€)" />
                    <TableColumn fx:id="colPagador" prefWidth="120" text="Pagado por" />
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>

    <right>
        <VBox prefWidth="250" spacing="20" style="-fx-background-color: #f4f4f4; -fx-border-color: #ccc; -fx-border-width: 0 0 0 1;">
            <padding>
                <Insets bottom="20" left="15" right="15" top="20" />
            </padding>

            <Label style="-fx-font-weight: bold;" text="Acciones" />
            <Button fx:id="btnAnadirGasto" maxWidth="Infinity" style="-fx-base: #4CAF50; -fx-text-fill: white;" text="+ Añadir Gasto" />
            <Button fx:id="btnEditarGasto" maxWidth="Infinity" text="Editar Seleccionado" />
            <Button fx:id="btnBorrarGasto" maxWidth="Infinity" style="-fx-text-fill: white; -fx-background-color: red;" text="Borrar Seleccionado" />
            <Separator />
            <Button fx:id="btnImportar" maxWidth="Infinity" text="Importar Fichero" />

            <VBox fx:id="panelSaldos" spacing="10" visible="false" VBox.vgrow="ALWAYS">
                <Separator />
                <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Balance del Grupo" />
                <Label style="-fx-font-size: 10px;" text="(Positivo: Te deben / Negativo: Debes)" textFill="GREY" />
                
                <ListView fx:id="listaSaldos" VBox.vgrow="ALWAYS" />
            </VBox>
        </VBox>
    </right>

</BorderPane>
